import{S as fe,i as oe,s as ae,a9 as _e,H as L,f as Be,g as E,J as K,p as y,l as P,t as z,o as Q,q as I,r as Ce,e as H,m as M,n as R,T as De,b as p,G as D,C as w,M as B,D as V,E as A,ag as Ee,N as ue,L as T,$ as Ie,I as ce,K as ge,x as Le,Z as Ne,h as qe,j as He,y as Me}from"./index-e8957cc3.js";import{B as Re}from"./Button-5d54ceb0.js";import{B as Se}from"./BlockLabel-da81daf9.js";import{E as Te}from"./Empty-4515c261.js";import{n as x}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";import{M as Je}from"./ModifyUpload-0b7b4756.js";/* empty css                                                    */import{I as me}from"./Image-8be60d1b.js";function $(t,l,e){const i=t.slice();return i[36]=l[e][0],i[37]=l[e][1],i[39]=e,i}function ee(t,l,e){const i=t.slice();return i[36]=l[e],i[40]=l,i[39]=e,i}function le(t){let l,e;return l=new Se({props:{show_label:t[1],Icon:me,label:t[2]||"Gallery",disable:t[0]===!1}}),{c(){H(l.$$.fragment)},m(i,n){M(l,i,n),e=!0},p(i,n){const a={};n[0]&2&&(a.show_label=i[1]),n[0]&4&&(a.label=i[2]||"Gallery"),n[0]&1&&(a.disable=i[0]===!1),l.$set(a)},i(i){e||(y(l.$$.fragment,i),e=!0)},o(i){z(l.$$.fragment,i),e=!1},d(i){R(l,i)}}}function Ke(t){let l,e,i,n,a,d,r=t[6]!==null&&te(t),_=t[9],c=[];for(let s=0;s<_.length;s+=1)c[s]=re($(t,_,s));return{c(){r&&r.c(),l=L(),e=D("div"),i=D("div");for(let s=0;s<c.length;s+=1)c[s].c();w(i,"class","grid-container svelte-g4rw9"),w(i,"style",n=t[12]+" "+t[13]),B(i,"pt-6",t[1]),V(i,"object_fit",t[5]),w(e,"class","grid-wrap svelte-g4rw9"),_e(()=>t[32].call(e)),B(e,"fixed-height",!t[4]||t[4]=="auto")},m(s,g){r&&r.m(s,g),E(s,l,g),E(s,e,g),A(e,i);for(let o=0;o<c.length;o+=1)c[o]&&c[o].m(i,null);a=Ee(e,t[32].bind(e)),d=!0},p(s,g){if(s[6]!==null?r?(r.p(s,g),g[0]&64&&y(r,1)):(r=te(s),r.c(),y(r,1),r.m(l.parentNode,l)):r&&(P(),z(r,1,1,()=>{r=null}),Q()),g[0]&16960){_=s[9];let m;for(m=0;m<_.length;m+=1){const b=$(s,_,m);c[m]?c[m].p(b,g):(c[m]=re(b),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=_.length}(!d||g[0]&12288&&n!==(n=s[12]+" "+s[13]))&&w(i,"style",n),(!d||g[0]&2)&&B(i,"pt-6",s[1]),(g[0]&12288||g[0]&12320)&&V(i,"object_fit",s[5]),(!d||g[0]&16)&&B(e,"fixed-height",!s[4]||s[4]=="auto")},i(s){d||(y(r),d=!0)},o(s){z(r),d=!1},d(s){r&&r.d(s),s&&I(l),s&&I(e),ue(c,s),a()}}}function Ue(t){let l,e;return l=new Te({props:{unpadded_box:!0,size:"large",$$slots:{default:[Ve]},$$scope:{ctx:t}}}),{c(){H(l.$$.fragment)},m(i,n){M(l,i,n),e=!0},p(i,n){const a={};n[1]&1024&&(a.$$scope={dirty:n,ctx:i}),l.$set(a)},i(i){e||(y(l.$$.fragment,i),e=!0)},o(i){z(l.$$.fragment,i),e=!1},d(i){R(l,i)}}}function te(t){let l,e,i,n,a,d,r,_,c,s,g,o,m;e=new Je({}),e.$on("clear",t[26]);let b=t[9][t[6]][1]&&ie(t),G=t[9],v=[];for(let h=0;h<G.length;h+=1)v[h]=ne(ee(t,G,h));return{c(){l=D("div"),H(e.$$.fragment),i=L(),n=D("img"),_=L(),b&&b.c(),c=L(),s=D("div");for(let h=0;h<v.length;h+=1)v[h].c();T(n.src,a=t[9][t[6]][0].data)||w(n,"src",a),w(n,"alt",d=t[9][t[6]][1]||""),w(n,"title",r=t[9][t[6]][1]||null),V(n,"height","calc(100% - "+(t[9][t[6]][1]?"80px":"60px")+")"),w(n,"class","svelte-g4rw9"),B(n,"with-caption",!!t[9][t[6]][1]),w(s,"class","thumbnails scroll-hide svelte-g4rw9"),w(l,"class","preview svelte-g4rw9"),B(l,"fixed-height",t[4]!=="auto")},m(h,j){E(h,l,j),M(e,l,null),A(l,i),A(l,n),A(l,_),b&&b.m(l,null),A(l,c),A(l,s);for(let k=0;k<v.length;k+=1)v[k]&&v[k].m(s,null);t[30](s),g=!0,o||(m=[K(n,"click",t[27]),K(l,"keydown",t[16])],o=!0)},p(h,j){if((!g||j[0]&576&&!T(n.src,a=h[9][h[6]][0].data))&&w(n,"src",a),(!g||j[0]&576&&d!==(d=h[9][h[6]][1]||""))&&w(n,"alt",d),(!g||j[0]&576&&r!==(r=h[9][h[6]][1]||null))&&w(n,"title",r),(!g||j[0]&576)&&V(n,"height","calc(100% - "+(h[9][h[6]][1]?"80px":"60px")+")"),(!g||j[0]&576)&&B(n,"with-caption",!!h[9][h[6]][1]),h[9][h[6]][1]?b?b.p(h,j):(b=ie(h),b.c(),b.m(l,c)):b&&(b.d(1),b=null),j[0]&1600){G=h[9];let k;for(k=0;k<G.length;k+=1){const N=ee(h,G,k);v[k]?v[k].p(N,j):(v[k]=ne(N),v[k].c(),v[k].m(s,null))}for(;k<v.length;k+=1)v[k].d(1);v.length=G.length}(!g||j[0]&16)&&B(l,"fixed-height",h[4]!=="auto")},i(h){g||(y(e.$$.fragment,h),g=!0)},o(h){z(e.$$.fragment,h),g=!1},d(h){h&&I(l),R(e),b&&b.d(),ue(v,h),t[30](null),o=!1,Ie(m)}}}function ie(t){let l,e=t[9][t[6]][1]+"",i;return{c(){l=D("div"),i=ce(e),w(l,"class","caption svelte-g4rw9")},m(n,a){E(n,l,a),A(l,i)},p(n,a){a[0]&576&&e!==(e=n[9][n[6]][1]+"")&&ge(i,e)},d(n){n&&I(l)}}}function ne(t){let l,e,i,n,a,d,r=t[39],_,c;const s=()=>t[28](l,r),g=()=>t[28](null,r);function o(){return t[29](t[39])}return{c(){l=D("button"),e=D("img"),d=L(),T(e.src,i=t[36][0].data)||w(e,"src",i),w(e,"title",n=t[36][1]||null),w(e,"alt",a=t[36][1]||null),w(e,"class","svelte-g4rw9"),w(l,"class","thumbnail-item thumbnail-small svelte-g4rw9"),B(l,"selected",t[6]===t[39])},m(m,b){E(m,l,b),A(l,e),A(l,d),s(),_||(c=K(l,"click",o),_=!0)},p(m,b){t=m,b[0]&512&&!T(e.src,i=t[36][0].data)&&w(e,"src",i),b[0]&512&&n!==(n=t[36][1]||null)&&w(e,"title",n),b[0]&512&&a!==(a=t[36][1]||null)&&w(e,"alt",a),r!==t[39]&&(g(),r=t[39],s()),b[0]&64&&B(l,"selected",t[6]===t[39])},d(m){m&&I(l),g(),_=!1,c()}}}function se(t){let l,e=t[37]+"",i;return{c(){l=D("div"),i=ce(e),w(l,"class","caption-label svelte-g4rw9")},m(n,a){E(n,l,a),A(l,i)},p(n,a){a[0]&512&&e!==(e=n[37]+"")&&ge(i,e)},d(n){n&&I(l)}}}function re(t){let l,e,i,n,a,d,r,_,c=t[37]&&se(t);function s(){return t[31](t[39])}return{c(){l=D("button"),e=D("img"),a=L(),c&&c.c(),d=L(),w(e,"alt",i=t[37]||""),T(e.src,n=typeof t[36]=="string"?t[36]:t[36].data)||w(e,"src",n),w(e,"class","svelte-g4rw9"),w(l,"class","thumbnail-item thumbnail-lg svelte-g4rw9"),B(l,"selected",t[6]===t[39])},m(g,o){E(g,l,o),A(l,e),A(l,a),c&&c.m(l,null),A(l,d),r||(_=K(l,"click",s),r=!0)},p(g,o){t=g,o[0]&512&&i!==(i=t[37]||"")&&w(e,"alt",i),o[0]&512&&!T(e.src,n=typeof t[36]=="string"?t[36]:t[36].data)&&w(e,"src",n),t[37]?c?c.p(t,o):(c=se(t),c.c(),c.m(l,d)):c&&(c.d(1),c=null),o[0]&64&&B(l,"selected",t[6]===t[39])},d(g){g&&I(l),c&&c.d(),r=!1,_()}}}function Ve(t){let l,e;return l=new me({}),{c(){H(l.$$.fragment)},m(i,n){M(l,i,n),e=!0},i(i){e||(y(l.$$.fragment,i),e=!0)},o(i){z(l.$$.fragment,i),e=!1},d(i){R(l,i)}}}function Ze(t){let l,e,i,n,a,d,r;_e(t[25]);let _=t[1]&&le(t);const c=[Ue,Ke],s=[];function g(o,m){return o[3]===null||o[9]===null||o[9].length===0?0:1}return e=g(t),i=s[e]=c[e](t),{c(){_&&_.c(),l=L(),i.c(),n=Be()},m(o,m){_&&_.m(o,m),E(o,l,m),s[e].m(o,m),E(o,n,m),a=!0,d||(r=K(window,"resize",t[25]),d=!0)},p(o,m){o[1]?_?(_.p(o,m),m[0]&2&&y(_,1)):(_=le(o),_.c(),y(_,1),_.m(l.parentNode,l)):_&&(P(),z(_,1,1,()=>{_=null}),Q());let b=e;e=g(o),e===b?s[e].p(o,m):(P(),z(s[b],1,1,()=>{s[b]=null}),Q(),i=s[e],i?i.p(o,m):(i=s[e]=c[e](o),i.c()),y(i,1),i.m(n.parentNode,n))},i(o){a||(y(_),y(i),a=!0)},o(o){z(_),z(i),a=!1},d(o){_&&_.d(o),o&&I(l),s[e].d(o),o&&I(n),d=!1,r()}}}function Fe(t,l,e){let i,n,a,d,{container:r=!0}=l,{show_label:_=!0}=l,{label:c}=l,{root:s=""}=l,{root_url:g=null}=l,{value:o=null}=l,{grid_cols:m=[2]}=l,{grid_rows:b=void 0}=l,{height:G="auto"}=l,{preview:v}=l,{object_fit:h="cover"}=l;const j=Ce();let k=!0,N=o,f=v&&o?.length?0:null,Z=f;function he(u){switch(u.code){case"Escape":u.preventDefault(),e(6,f=null);break;case"ArrowLeft":u.preventDefault(),e(6,f=n);break;case"ArrowRight":u.preventDefault(),e(6,f=a);break}}let J=[],S;async function be(u){if(typeof u!="number")return;await De(),J[u].focus();const{left:C,width:O}=S.getBoundingClientRect(),{left:q,width:Ge}=J[u].getBoundingClientRect(),Y=q-C+Ge/2-O/2+S.scrollLeft;S.scrollTo({left:Y<0?0:Y,behavior:"smooth"})}let U=0,F=0,W="",X="";function de(){e(8,F=window.innerHeight)}const we=()=>e(6,f=null),ke=()=>e(6,f=a);function ve(u,C){p[u?"unshift":"push"](()=>{J[C]=u,e(10,J)})}const je=u=>e(6,f=u);function ye(u){p[u?"unshift":"push"](()=>{S=u,e(11,S)})}const Ae=u=>e(6,f=d?u:f);function ze(){U=this.clientHeight,e(7,U)}return t.$$set=u=>{"container"in u&&e(0,r=u.container),"show_label"in u&&e(1,_=u.show_label),"label"in u&&e(2,c=u.label),"root"in u&&e(17,s=u.root),"root_url"in u&&e(18,g=u.root_url),"value"in u&&e(3,o=u.value),"grid_cols"in u&&e(19,m=u.grid_cols),"grid_rows"in u&&e(20,b=u.grid_rows),"height"in u&&e(4,G=u.height),"preview"in u&&e(21,v=u.preview),"object_fit"in u&&e(5,h=u.object_fit)},t.$$.update=()=>{if(t.$$.dirty[0]&4194312&&e(22,k=o==null||o.length==0?!0:k),t.$$.dirty[0]&393224&&e(9,i=o===null?null:o.map(u=>Array.isArray(u)?[x(u[0],s,g),u[1]]:[x(u,s,g),null])),t.$$.dirty[0]&14680136&&N!==o&&(k?(e(6,f=v&&o?.length?0:null),e(22,k=!1)):e(6,f=f!==null&&o!==null&&f<o.length?f:null),e(23,N=o)),t.$$.dirty[0]&576&&(n=((f??0)+(i?.length??0)-1)%(i?.length??0)),t.$$.dirty[0]&576&&e(15,a=((f??0)+1)%(i?.length??0)),t.$$.dirty[0]&16777792&&f!==Z&&(e(24,Z=f),f!==null&&j("select",{index:f,value:i?.[f][1]})),t.$$.dirty[0]&64&&be(f),t.$$.dirty[0]&384&&e(14,d=F>=U),t.$$.dirty[0]&524288){let u=["","sm-","md-","lg-","xl-","2xl-"],C=Array.isArray(m)?m:[m];e(12,W=[0,0,0,0,0,0].map((O,q)=>`--${u[q]}grid-cols: var(--grid-${C?.[q]||C?.[C?.length-1]});`).join(" "))}if(t.$$.dirty[0]&1048576){let u=["","sm-","md-","lg-","xl-","2xl-"],C=Array.isArray(b)?b:[b];e(13,X=[0,0,0,0,0,0].map((O,q)=>`--${u[q]}grid-rows: var(--grid-${C?.[q]||C?.[C?.length-1]});`).join(" "))}},[r,_,c,o,G,h,f,U,F,i,J,S,W,X,d,a,he,s,g,m,b,v,k,N,Z,de,we,ke,ve,je,ye,Ae,ze]}class Oe extends fe{constructor(l){super(),oe(this,l,Fe,Ze,ae,{container:0,show_label:1,label:2,root:17,root_url:18,value:3,grid_cols:19,grid_rows:20,height:4,preview:21,object_fit:5},null,[-1,-1])}}function Pe(t){let l,e,i,n;const a=[t[0]];let d={};for(let r=0;r<a.length;r+=1)d=Le(d,a[r]);return l=new Ne({props:d}),i=new Oe({props:{label:t[2],value:t[8],show_label:t[1],root:t[3],root_url:t[4],grid_cols:t[12],grid_rows:t[13],height:t[14],preview:t[15],object_fit:t[16]}}),i.$on("select",t[17]),{c(){H(l.$$.fragment),e=L(),H(i.$$.fragment)},m(r,_){M(l,r,_),E(r,e,_),M(i,r,_),n=!0},p(r,_){const c=_&1?qe(a,[He(r[0])]):{};l.$set(c);const s={};_&4&&(s.label=r[2]),_&256&&(s.value=r[8]),_&2&&(s.show_label=r[1]),_&8&&(s.root=r[3]),_&16&&(s.root_url=r[4]),_&4096&&(s.grid_cols=r[12]),_&8192&&(s.grid_rows=r[13]),_&16384&&(s.height=r[14]),_&32768&&(s.preview=r[15]),_&65536&&(s.object_fit=r[16]),i.$set(s)},i(r){n||(y(l.$$.fragment,r),y(i.$$.fragment,r),n=!0)},o(r){z(l.$$.fragment,r),z(i.$$.fragment,r),n=!1},d(r){R(l,r),r&&I(e),R(i,r)}}}function Qe(t){let l,e;return l=new Re({props:{visible:t[7],variant:"solid",padding:!1,elem_id:t[5],elem_classes:t[6],container:t[9],scale:t[10],min_width:t[11],height:typeof t[14]=="number"?t[14]:void 0,$$slots:{default:[Pe]},$$scope:{ctx:t}}}),{c(){H(l.$$.fragment)},m(i,n){M(l,i,n),e=!0},p(i,[n]){const a={};n&128&&(a.visible=i[7]),n&32&&(a.elem_id=i[5]),n&64&&(a.elem_classes=i[6]),n&512&&(a.container=i[9]),n&1024&&(a.scale=i[10]),n&2048&&(a.min_width=i[11]),n&16384&&(a.height=typeof i[14]=="number"?i[14]:void 0),n&389407&&(a.$$scope={dirty:n,ctx:i}),l.$set(a)},i(i){e||(y(l.$$.fragment,i),e=!0)},o(i){z(l.$$.fragment,i),e=!1},d(i){R(l,i)}}}function We(t,l,e){let{loading_status:i}=l,{show_label:n}=l,{label:a}=l,{root:d}=l,{root_url:r}=l,{elem_id:_=""}=l,{elem_classes:c=[]}=l,{visible:s=!0}=l,{value:g=null}=l,{container:o=!1}=l,{scale:m=1}=l,{min_width:b=void 0}=l,{grid_cols:G=[2]}=l,{grid_rows:v=void 0}=l,{height:h="auto"}=l,{preview:j}=l,{object_fit:k="cover"}=l;function N(f){Me.call(this,t,f)}return t.$$set=f=>{"loading_status"in f&&e(0,i=f.loading_status),"show_label"in f&&e(1,n=f.show_label),"label"in f&&e(2,a=f.label),"root"in f&&e(3,d=f.root),"root_url"in f&&e(4,r=f.root_url),"elem_id"in f&&e(5,_=f.elem_id),"elem_classes"in f&&e(6,c=f.elem_classes),"visible"in f&&e(7,s=f.visible),"value"in f&&e(8,g=f.value),"container"in f&&e(9,o=f.container),"scale"in f&&e(10,m=f.scale),"min_width"in f&&e(11,b=f.min_width),"grid_cols"in f&&e(12,G=f.grid_cols),"grid_rows"in f&&e(13,v=f.grid_rows),"height"in f&&e(14,h=f.height),"preview"in f&&e(15,j=f.preview),"object_fit"in f&&e(16,k=f.object_fit)},[i,n,a,d,r,_,c,s,g,o,m,b,G,v,h,j,k,N]}class Xe extends fe{constructor(l){super(),oe(this,l,We,Qe,ae,{loading_status:0,show_label:1,label:2,root:3,root_url:4,elem_id:5,elem_classes:6,visible:7,value:8,container:9,scale:10,min_width:11,grid_cols:12,grid_rows:13,height:14,preview:15,object_fit:16})}}const sl=Xe,rl=["static"],fl=t=>({type:{payload:"Array<{ name: string } | [{ name: string }, string]>"},description:{payload:"list of objects, with filename and optional caption,"}});export{sl as Component,fl as document,rl as modes};
//# sourceMappingURL=index-a61d288f.js.map
