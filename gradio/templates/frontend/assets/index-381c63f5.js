import{S as P,i as q,s as D,G as E,C as y,g as U,E as B,F as I,q as z,N as _e,r as K,I as J,H as T,M as Q,J as ce,K as V,e as A,f as L,m as p,l as R,t as g,o as W,p as h,n as v,y as C,T as me,b as be,a as de,k as ge,U as he,W as we,X as ke,Y as Ae,af as pe,x as ve,Z as ye,h as Fe,j as Be}from"./index-56e7be3e.js";import{B as Ue}from"./Button-800741cf.js";import{B as ne}from"./BlockLabel-32a05e8d.js";import{E as ze}from"./Empty-d17dd0ff.js";/* empty css                                                    */import{F as H}from"./File-48fc6bdc.js";import{U as je}from"./Upload-25321626.js";import{M as Ee}from"./ModifyUpload-db1fd677.js";import{n as x,b as Ne}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";import{U as Te}from"./UploadText-0eab38ba.js";import"./Blocks-6c0ce475.js";const Se=t=>{let l=["B","KB","MB","GB","PB"],n=0;for(;t>1024;)t/=1024,n++;let e=l[n];return t.toFixed(1)+" "+e},$=t=>{var l;return l=t.orig_name||t.name,l.length>30?`${l.substr(0,30)}...`:l},ee=t=>{var l=0;if(Array.isArray(t))for(var n of t)n.size!==void 0&&(l+=n.size);else l=t.size||0;return Se(l)};function le(t,l,n){const e=t.slice();return e[4]=l[n],e[6]=n,e}function Me(t){let l;return{c(){l=J("Uploading...")},m(n,e){U(n,l,e)},p:I,d(n){n&&z(l)}}}function Oe(t){let l,n,e,a;return{c(){l=E("a"),n=J("Download"),y(l,"href",e=t[4].data),y(l,"target","_blank"),y(l,"download",a=window.__is_colab__?null:t[4].orig_name||t[4].name),y(l,"class","svelte-xrr240")},m(s,i){U(s,l,i),B(l,n)},p(s,i){i&1&&e!==(e=s[4].data)&&y(l,"href",e),i&1&&a!==(a=window.__is_colab__?null:s[4].orig_name||s[4].name)&&y(l,"download",a)},d(s){s&&z(l)}}}function te(t){let l,n,e=$(t[4])+"",a,s,i,o=ee(t[4])+"",r,d,f,m,u,b;function F(c,j){return c[4].data?Oe:Me}let w=F(t),k=w(t);function S(){return t[3](t[4],t[6])}return{c(){l=E("tr"),n=E("td"),a=J(e),s=T(),i=E("td"),r=J(o),d=T(),f=E("td"),k.c(),m=T(),y(n,"class","svelte-xrr240"),y(i,"class","svelte-xrr240"),y(f,"class","download svelte-xrr240"),y(l,"class","file svelte-xrr240"),Q(l,"selectable",t[1])},m(c,j){U(c,l,j),B(l,n),B(n,a),B(l,s),B(l,i),B(i,r),B(l,d),B(l,f),k.m(f,null),B(l,m),u||(b=ce(l,"click",S),u=!0)},p(c,j){t=c,j&1&&e!==(e=$(t[4])+"")&&V(a,e),j&1&&o!==(o=ee(t[4])+"")&&V(r,o),w===(w=F(t))&&k?k.p(t,j):(k.d(1),k=w(t),k&&(k.c(),k.m(f,null))),j&2&&Q(l,"selectable",t[1])},d(c){c&&z(l),k.d(),u=!1,b()}}}function Ce(t){let l,n,e,a=Array.isArray(t[0])?t[0]:[t[0]],s=[];for(let i=0;i<a.length;i+=1)s[i]=te(le(t,a,i));return{c(){l=E("div"),n=E("table"),e=E("tbody");for(let i=0;i<s.length;i+=1)s[i].c();y(n,"class","file-preview svelte-xrr240"),y(l,"class","file-preview-holder svelte-xrr240")},m(i,o){U(i,l,o),B(l,n),B(n,e);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(i,[o]){if(o&7){a=Array.isArray(i[0])?i[0]:[i[0]];let r;for(r=0;r<a.length;r+=1){const d=le(i,a,r);s[r]?s[r].p(d,o):(s[r]=te(d),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},i:I,o:I,d(i){i&&z(l),_e(s,i)}}}function Ie(t,l,n){const e=K();let{value:a}=l,{selectable:s=!1}=l;const i=(o,r)=>e("select",{value:o.orig_name||o.name,index:r});return t.$$set=o=>{"value"in o&&n(0,a=o.value),"selectable"in o&&n(1,s=o.selectable)},[a,s,e,i]}class ae extends P{constructor(l){super(),q(this,l,Ie,Ce,D,{value:0,selectable:1})}}function Je(t){let l,n;return l=new ze({props:{unpadded_box:!0,size:"large",$$slots:{default:[qe]},$$scope:{ctx:t}}}),{c(){A(l.$$.fragment)},m(e,a){p(l,e,a),n=!0},p(e,a){const s={};a&32&&(s.$$scope={dirty:a,ctx:e}),l.$set(s)},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){v(l,e)}}}function Pe(t){let l,n;return l=new ae({props:{selectable:t[3],value:t[0]}}),l.$on("select",t[4]),{c(){A(l.$$.fragment)},m(e,a){p(l,e,a),n=!0},p(e,a){const s={};a&8&&(s.selectable=e[3]),a&1&&(s.value=e[0]),l.$set(s)},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){v(l,e)}}}function qe(t){let l,n;return l=new H({}),{c(){A(l.$$.fragment)},m(e,a){p(l,e,a),n=!0},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){v(l,e)}}}function De(t){let l,n,e,a,s,i;l=new ne({props:{show_label:t[2],float:t[0]===null,Icon:H,label:t[1]||"File"}});const o=[Pe,Je],r=[];function d(f,m){return f[0]?0:1}return e=d(t),a=r[e]=o[e](t),{c(){A(l.$$.fragment),n=T(),a.c(),s=L()},m(f,m){p(l,f,m),U(f,n,m),r[e].m(f,m),U(f,s,m),i=!0},p(f,[m]){const u={};m&4&&(u.show_label=f[2]),m&1&&(u.float=f[0]===null),m&2&&(u.label=f[1]||"File"),l.$set(u);let b=e;e=d(f),e===b?r[e].p(f,m):(R(),g(r[b],1,1,()=>{r[b]=null}),W(),a=r[e],a?a.p(f,m):(a=r[e]=o[e](f),a.c()),h(a,1),a.m(s.parentNode,s))},i(f){i||(h(l.$$.fragment,f),h(a),i=!0)},o(f){g(l.$$.fragment,f),g(a),i=!1},d(f){v(l,f),f&&z(n),r[e].d(f),f&&z(s)}}}function Ge(t,l,n){let{value:e=null}=l,{label:a}=l,{show_label:s=!0}=l,{selectable:i=!1}=l;function o(r){C.call(this,t,r)}return t.$$set=r=>{"value"in r&&n(0,e=r.value),"label"in r&&n(1,a=r.label),"show_label"in r&&n(2,s=r.show_label),"selectable"in r&&n(3,i=r.selectable)},[e,a,s,i,o]}class Ke extends P{constructor(l){super(),q(this,l,Ge,De,D,{value:0,label:1,show_label:2,selectable:3})}}function Le(t){let l,n,e;function a(i){t[12](i)}let s={filetype:t[6],parse_to_data_url:!1,file_count:t[3],$$slots:{default:[We]},$$scope:{ctx:t}};return t[5]!==void 0&&(s.dragging=t[5]),l=new je({props:s}),be.push(()=>de(l,"dragging",a)),l.$on("load",t[7]),{c(){A(l.$$.fragment)},m(i,o){p(l,i,o),e=!0},p(i,o){const r={};o&64&&(r.filetype=i[6]),o&8&&(r.file_count=i[3]),o&8192&&(r.$$scope={dirty:o,ctx:i}),!n&&o&32&&(n=!0,r.dragging=i[5],ge(()=>n=!1)),l.$set(r)},i(i){e||(h(l.$$.fragment,i),e=!0)},o(i){g(l.$$.fragment,i),e=!1},d(i){v(l,i)}}}function Re(t){let l,n,e,a;return l=new Ee({props:{absolute:!0}}),l.$on("clear",t[8]),e=new ae({props:{selectable:t[4],value:t[0]}}),e.$on("select",t[11]),{c(){A(l.$$.fragment),n=T(),A(e.$$.fragment)},m(s,i){p(l,s,i),U(s,n,i),p(e,s,i),a=!0},p(s,i){const o={};i&16&&(o.selectable=s[4]),i&1&&(o.value=s[0]),e.$set(o)},i(s){a||(h(l.$$.fragment,s),h(e.$$.fragment,s),a=!0)},o(s){g(l.$$.fragment,s),g(e.$$.fragment,s),a=!1},d(s){v(l,s),s&&z(n),v(e,s)}}}function We(t){let l;const n=t[10].default,e=he(n,t,t[13],null);return{c(){e&&e.c()},m(a,s){e&&e.m(a,s),l=!0},p(a,s){e&&e.p&&(!l||s&8192)&&we(e,n,a,a[13],l?Ae(n,a[13],s,null):ke(a[13]),null)},i(a){l||(h(e,a),l=!0)},o(a){g(e,a),l=!1},d(a){e&&e.d(a)}}}function He(t){let l,n,e,a,s,i;l=new ne({props:{show_label:t[2],Icon:H,float:t[0]===null,label:t[1]||"File"}});const o=[Re,Le],r=[];function d(f,m){return f[0]?0:1}return e=d(t),a=r[e]=o[e](t),{c(){A(l.$$.fragment),n=T(),a.c(),s=L()},m(f,m){p(l,f,m),U(f,n,m),r[e].m(f,m),U(f,s,m),i=!0},p(f,[m]){const u={};m&4&&(u.show_label=f[2]),m&1&&(u.float=f[0]===null),m&2&&(u.label=f[1]||"File"),l.$set(u);let b=e;e=d(f),e===b?r[e].p(f,m):(R(),g(r[b],1,1,()=>{r[b]=null}),W(),a=r[e],a?a.p(f,m):(a=r[e]=o[e](f),a.c()),h(a,1),a.m(s.parentNode,s))},i(f){i||(h(l.$$.fragment,f),h(a),i=!0)},o(f){g(l.$$.fragment,f),g(a),i=!1},d(f){v(l,f),f&&z(n),r[e].d(f),f&&z(s)}}}function Xe(t,l,n){let{$$slots:e={},$$scope:a}=l,{value:s}=l,{label:i}=l,{show_label:o=!0}=l,{file_count:r="single"}=l,{file_types:d=null}=l,{selectable:f=!1}=l;async function m({detail:c}){n(0,s=c),await me(),b("change",s),b("upload",c)}function u({detail:c}){n(0,s=null),b("change",s),b("clear")}const b=K();let F;d==null?F=null:(d=d.map(c=>c.startsWith(".")?c:c+"/*"),F=d.join(", "));let w=!1;function k(c){C.call(this,t,c)}function S(c){w=c,n(5,w)}return t.$$set=c=>{"value"in c&&n(0,s=c.value),"label"in c&&n(1,i=c.label),"show_label"in c&&n(2,o=c.show_label),"file_count"in c&&n(3,r=c.file_count),"file_types"in c&&n(9,d=c.file_types),"selectable"in c&&n(4,f=c.selectable),"$$scope"in c&&n(13,a=c.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&b("drag",w)},[s,i,o,r,f,w,F,m,u,d,e,k,S,a]}class Ye extends P{constructor(l){super(),q(this,l,Xe,He,D,{value:0,label:1,show_label:2,file_count:3,file_types:9,selectable:4})}}function Ze(t){let l,n;return l=new Ke({props:{selectable:t[9],value:t[14],label:t[5],show_label:t[6]}}),l.$on("select",t[24]),{c(){A(l.$$.fragment)},m(e,a){p(l,e,a),n=!0},p(e,a){const s={};a&512&&(s.selectable=e[9]),a&16384&&(s.value=e[14]),a&32&&(s.label=e[5]),a&64&&(s.show_label=e[6]),l.$set(s)},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){v(l,e)}}}function Qe(t){let l,n;return l=new Ye({props:{label:t[5],show_label:t[6],value:t[14],file_count:t[7],file_types:t[8],selectable:t[9],$$slots:{default:[Ve]},$$scope:{ctx:t}}}),l.$on("change",t[20]),l.$on("drag",t[21]),l.$on("clear",t[22]),l.$on("select",t[23]),{c(){A(l.$$.fragment)},m(e,a){p(l,e,a),n=!0},p(e,a){const s={};a&32&&(s.label=e[5]),a&64&&(s.show_label=e[6]),a&16384&&(s.value=e[14]),a&128&&(s.file_count=e[7]),a&256&&(s.file_types=e[8]),a&512&&(s.selectable=e[9]),a&67108864&&(s.$$scope={dirty:a,ctx:e}),l.$set(s)},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){v(l,e)}}}function Ve(t){let l,n;return l=new Te({props:{type:"file"}}),{c(){A(l.$$.fragment)},m(e,a){p(l,e,a),n=!0},p:I,i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){v(l,e)}}}function xe(t){let l,n,e,a,s,i;const o=[t[10],{status:t[16]?"generating":t[10]?.status||"complete"}];let r={};for(let u=0;u<o.length;u+=1)r=ve(r,o[u]);l=new ye({props:r});const d=[Qe,Ze],f=[];function m(u,b){return u[4]==="dynamic"?0:1}return e=m(t),a=f[e]=d[e](t),{c(){A(l.$$.fragment),n=T(),a.c(),s=L()},m(u,b){p(l,u,b),U(u,n,b),f[e].m(u,b),U(u,s,b),i=!0},p(u,b){const F=b&66560?Fe(o,[b&1024&&Be(u[10]),{status:u[16]?"generating":u[10]?.status||"complete"}]):{};l.$set(F);let w=e;e=m(u),e===w?f[e].p(u,b):(R(),g(f[w],1,1,()=>{f[w]=null}),W(),a=f[e],a?a.p(u,b):(a=f[e]=d[e](u),a.c()),h(a,1),a.m(s.parentNode,s))},i(u){i||(h(l.$$.fragment,u),h(a),i=!0)},o(u){g(l.$$.fragment,u),g(a),i=!1},d(u){v(l,u),u&&z(n),f[e].d(u),u&&z(s)}}}function $e(t){let l,n;return l=new Ue({props:{visible:t[3],variant:t[4]==="dynamic"&&t[0]===null?"dashed":"solid",border_mode:t[15]?"focus":"base",padding:!1,elem_id:t[1],elem_classes:t[2],container:t[11],scale:t[12],min_width:t[13],$$slots:{default:[xe]},$$scope:{ctx:t}}}),{c(){A(l.$$.fragment)},m(e,a){p(l,e,a),n=!0},p(e,[a]){const s={};a&8&&(s.visible=e[3]),a&17&&(s.variant=e[4]==="dynamic"&&e[0]===null?"dashed":"solid"),a&32768&&(s.border_mode=e[15]?"focus":"base"),a&2&&(s.elem_id=e[1]),a&4&&(s.elem_classes=e[2]),a&2048&&(s.container=e[11]),a&4096&&(s.scale=e[12]),a&8192&&(s.min_width=e[13]),a&67225585&&(s.$$scope={dirty:a,ctx:e}),l.$set(s)},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){v(l,e)}}}function el(t,l,n){let e,{elem_id:a=""}=l,{elem_classes:s=[]}=l,{visible:i=!0}=l,{value:o}=l,r,{mode:d}=l,{root:f}=l,{label:m}=l,{show_label:u}=l,{file_count:b}=l,{file_types:F=["file"]}=l,{root_url:w}=l,{selectable:k=!1}=l,{loading_status:S}=l,{container:c=!1}=l,{scale:j=1}=l,{min_width:X=void 0}=l,Y=!1,M=!1;const G=K(),se=({detail:_})=>n(0,o=_),ie=({detail:_})=>n(15,Y=_);function fe(_){C.call(this,t,_)}function re(_){C.call(this,t,_)}function oe(_){C.call(this,t,_)}return t.$$set=_=>{"elem_id"in _&&n(1,a=_.elem_id),"elem_classes"in _&&n(2,s=_.elem_classes),"visible"in _&&n(3,i=_.visible),"value"in _&&n(0,o=_.value),"mode"in _&&n(4,d=_.mode),"root"in _&&n(17,f=_.root),"label"in _&&n(5,m=_.label),"show_label"in _&&n(6,u=_.show_label),"file_count"in _&&n(7,b=_.file_count),"file_types"in _&&n(8,F=_.file_types),"root_url"in _&&n(18,w=_.root_url),"selectable"in _&&n(9,k=_.selectable),"loading_status"in _&&n(10,S=_.loading_status),"container"in _&&n(11,c=_.container),"scale"in _&&n(12,j=_.scale),"min_width"in _&&n(13,X=_.min_width)},t.$$.update=()=>{if(t.$$.dirty&393217&&n(14,e=x(o,f,w)),t.$$.dirty&933905&&JSON.stringify(e)!==JSON.stringify(r)){if(n(19,r=e),e===null)G("change"),n(16,M=!1);else if(!(Array.isArray(e)?e:[e]).every(_=>_.blob))n(16,M=!1);else if(d==="dynamic"){let _=(Array.isArray(e)?e:[e]).map(O=>O.blob),ue=e;n(16,M=!0),pe(f,_).then(O=>{ue===e&&(n(16,M=!1),O.error?(Array.isArray(e)?e:[e]).forEach(async(N,Z)=>{N.data=await Ne(N.blob)}):((Array.isArray(e)?e:[e]).forEach((N,Z)=>{O.files&&(N.orig_name=N.name,N.name=O.files[Z],N.is_file=!0)}),n(14,e=x(o,f,w))),G("change"),G("upload"))})}}},[o,a,s,i,d,m,u,b,F,k,S,c,j,X,e,Y,M,f,w,r,se,ie,fe,re,oe]}class ll extends P{constructor(l){super(),q(this,l,el,$e,D,{elem_id:1,elem_classes:2,visible:3,value:0,mode:4,root:17,label:5,show_label:6,file_count:7,file_types:8,root_url:18,selectable:9,loading_status:10,container:11,scale:12,min_width:13})}}const ml=ll,bl=["static","dynamic"],dl=t=>({type:{input_payload:"{ name: string; data: string }",response_object:"{ orig_name: string; name: string, size: number, data: string, is_file: boolean}"},description:{input_payload:"object with file name and base64 data",response_object:"object that includes path to file. The URL: {ROOT}file={name} contains the data"},example_data:{name:"zip.zip",data:"data:@file/octet-stream;base64,UEsFBgAAAAAAAAAAAAAAAAAAAAAAAA=="}});export{ml as Component,dl as document,bl as modes};
//# sourceMappingURL=index-381c63f5.js.map
