import{S as X,i as j,s as D,G as Y,H as L,e as G,C as g,g as q,m as H,J as W,p as S,t as T,q as I,n as J,$ as M,r as K,U as N,W as O,X as P,Y as R,b as Z,Q as x,I as p,K as $,T as ee,af as ie,y as le}from"./index-f62807a4.js";import{a as ne}from"./Button-5a57ebed.js";import{b as te}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";/* empty css                                                    */import{X as se}from"./Blocks-7f571af0.js";function ae(n){let e;const i=n[16].default,l=N(i,n,n[18],null);return{c(){l&&l.c()},m(a,u){l&&l.m(a,u),e=!0},p(a,u){l&&l.p&&(!e||u&262144)&&O(l,i,a,a[18],e?R(i,a[18],u,null):P(a[18]),null)},i(a){e||(S(l,a),e=!0)},o(a){T(l,a),e=!1},d(a){l&&l.d(a)}}}function fe(n){let e,i,l,a,u,o,c,d,r;return o=new ne({props:{size:n[4],variant:n[8],elem_id:n[0],elem_classes:n[1],visible:n[2],scale:n[5],min_width:n[6],disabled:n[7]==="static",$$slots:{default:[ae]},$$scope:{ctx:n}}}),o.$on("click",n[11]),{c(){e=Y("input"),u=L(),G(o.$$.fragment),g(e,"class","hide svelte-ydeks8"),g(e,"accept",n[10]),g(e,"type","file"),e.multiple=i=n[3]==="multiple"||void 0,g(e,"webkitdirectory",l=n[3]==="directory"||void 0),g(e,"mozdirectory",a=n[3]==="directory"||void 0)},m(f,_){q(f,e,_),n[17](e),q(f,u,_),H(o,f,_),c=!0,d||(r=[W(e,"change",n[12]),W(e,"click",n[13])],d=!0)},p(f,[_]){(!c||_&1024)&&g(e,"accept",f[10]),(!c||_&8&&i!==(i=f[3]==="multiple"||void 0))&&(e.multiple=i),(!c||_&8&&l!==(l=f[3]==="directory"||void 0))&&g(e,"webkitdirectory",l),(!c||_&8&&a!==(a=f[3]==="directory"||void 0))&&g(e,"mozdirectory",a);const m={};_&16&&(m.size=f[4]),_&256&&(m.variant=f[8]),_&1&&(m.elem_id=f[0]),_&2&&(m.elem_classes=f[1]),_&4&&(m.visible=f[2]),_&32&&(m.scale=f[5]),_&64&&(m.min_width=f[6]),_&128&&(m.disabled=f[7]==="static"),_&262144&&(m.$$scope={dirty:_,ctx:f}),o.$set(m)},i(f){c||(S(o.$$.fragment,f),c=!0)},o(f){T(o.$$.fragment,f),c=!1},d(f){f&&I(e),n[17](null),f&&I(u),J(o,f),d=!1,M(r)}}}function ue(n,e,i){let{$$slots:l={},$$scope:a}=e,{elem_id:u=""}=e,{elem_classes:o=[]}=e,{visible:c=!0}=e,{file_count:d}=e,{file_types:r=["file"]}=e,{include_file_metadata:f=!0}=e,{size:_="lg"}=e,{scale:m=1}=e,{min_width:v=void 0}=e,{mode:k="dynamic"}=e,{variant:A="secondary"}=e,w;const E=K();let z;r==null?z=null:(r=r.map(s=>s.startsWith(".")?s:s+"/*"),z=r.join(", "));const F=()=>{w.click()},t=s=>{let h=Array.from(s);if(s.length){d==="single"&&(h=[s[0]]);var U=[];h.forEach((B,Q)=>{U[Q]=f?{name:B.name,size:B.size,data:"",blob:B}:B,U.filter(V=>V!==void 0).length===s.length&&E("load",d=="single"?U[0]:U)})}},C=s=>{const h=s.target;h.files&&t(h.files)},y=s=>{const h=s.target;h.value&&(h.value="")};function b(s){Z[s?"unshift":"push"](()=>{w=s,i(9,w)})}return n.$$set=s=>{"elem_id"in s&&i(0,u=s.elem_id),"elem_classes"in s&&i(1,o=s.elem_classes),"visible"in s&&i(2,c=s.visible),"file_count"in s&&i(3,d=s.file_count),"file_types"in s&&i(14,r=s.file_types),"include_file_metadata"in s&&i(15,f=s.include_file_metadata),"size"in s&&i(4,_=s.size),"scale"in s&&i(5,m=s.scale),"min_width"in s&&i(6,v=s.min_width),"mode"in s&&i(7,k=s.mode),"variant"in s&&i(8,A=s.variant),"$$scope"in s&&i(18,a=s.$$scope)},[u,o,c,d,_,m,v,k,A,w,z,F,C,y,r,f,l,b,a]}class _e extends X{constructor(e){super(),j(this,e,ue,fe,D,{elem_id:0,elem_classes:1,visible:2,file_count:3,file_types:14,include_file_metadata:15,size:4,scale:5,min_width:6,mode:7,variant:8})}}function me(n){let e=n[11](n[3])+"",i;return{c(){i=p(e)},m(l,a){q(l,i,a)},p(l,a){a&2056&&e!==(e=l[11](l[3])+"")&&$(i,e)},d(l){l&&I(i)}}}function oe(n){let e,i;return e=new _e({props:{elem_id:n[0],elem_classes:n[1],visible:n[2],file_count:n[4],file_types:n[5],size:n[6],scale:n[7],min_width:n[8],mode:n[9],variant:n[10],$$slots:{default:[me]},$$scope:{ctx:n}}}),e.$on("click",n[15]),e.$on("load",n[12]),{c(){G(e.$$.fragment)},m(l,a){H(e,l,a),i=!0},p(l,[a]){const u={};a&1&&(u.elem_id=l[0]),a&2&&(u.elem_classes=l[1]),a&4&&(u.visible=l[2]),a&16&&(u.file_count=l[4]),a&32&&(u.file_types=l[5]),a&64&&(u.size=l[6]),a&128&&(u.scale=l[7]),a&256&&(u.min_width=l[8]),a&512&&(u.mode=l[9]),a&1024&&(u.variant=l[10]),a&133128&&(u.$$scope={dirty:a,ctx:l}),e.$set(u)},i(l){i||(S(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){J(e,l)}}}function ce(n,e,i){let l;x(n,se,t=>i(11,l=t));let{elem_id:a=""}=e,{elem_classes:u=[]}=e,{visible:o=!0}=e,{label:c}=e,{value:d}=e,{file_count:r}=e,{file_types:f=["file"]}=e,{root:_}=e,{size:m="lg"}=e,{scale:v=1}=e,{min_width:k=void 0}=e,{mode:A="dynamic"}=e,{variant:w="secondary"}=e;async function E({detail:t}){i(13,d=t),await ee();let C=(Array.isArray(t)?t:[t]).map(y=>y.blob);ie(_,C).then(async y=>{y.error?(Array.isArray(t)?t:[t]).forEach(async(b,s)=>{b.data=await te(b.blob)}):(Array.isArray(t)?t:[t]).forEach((b,s)=>{y.files&&(b.orig_name=b.name,b.name=y.files[s],b.is_file=!0)}),z("change",d),z("upload",t)})}const z=K();function F(t){le.call(this,n,t)}return n.$$set=t=>{"elem_id"in t&&i(0,a=t.elem_id),"elem_classes"in t&&i(1,u=t.elem_classes),"visible"in t&&i(2,o=t.visible),"label"in t&&i(3,c=t.label),"value"in t&&i(13,d=t.value),"file_count"in t&&i(4,r=t.file_count),"file_types"in t&&i(5,f=t.file_types),"root"in t&&i(14,_=t.root),"size"in t&&i(6,m=t.size),"scale"in t&&i(7,v=t.scale),"min_width"in t&&i(8,k=t.min_width),"mode"in t&&i(9,A=t.mode),"variant"in t&&i(10,w=t.variant)},[a,u,o,c,r,f,m,v,k,A,w,l,E,d,_,F]}class de extends X{constructor(e){super(),j(this,e,ce,oe,D,{elem_id:0,elem_classes:1,visible:2,label:3,value:13,file_count:4,file_types:5,root:14,size:6,scale:7,min_width:8,mode:9,variant:10})}}const ye=de,ze=["static","dynamic"];export{ye as Component,ze as modes};
//# sourceMappingURL=index-d8196d5c.js.map
